<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>To My Beautiful Best Friend üíñ</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* ---------------- GLOBAL ---------------- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

:root {
    --primary-color: #ff4f8b;
    --secondary-color: #7a003c;
    --accent-color: #ffdde1;
    --light-color: #fff9fa;
    --dark-color: #5a002a;
    --text-color: #333;
    --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
}

body {
    background: linear-gradient(135deg, #ffdde1 0%, #ee9ca7 50%, #ffb6c1 100%);
    min-height: 100vh;
    color: var(--text-color);
    overflow-x: hidden;
}

/* ---------------- LOADING ANIMATION ---------------- */
.loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #ffdde1, #ee9ca7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    transition: opacity 0.5s ease;
}

.loader-content {
    text-align: center;
}

.loader-spinner {
    width: 70px;
    height: 70px;
    border: 5px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top-color: var(--primary-color);
    animation: spin 1s ease-in-out infinite;
    margin: 0 auto 20px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.loader h2 {
    color: var(--secondary-color);
    margin-bottom: 10px;
}

.loader p {
    color: var(--dark-color);
}

/* ---------------- CONTAINER ---------------- */
.container {
    max-width: 1200px;
    margin: auto;
    padding: 30px;
    text-align: center;
    opacity: 0;
    animation: fadeIn 1s ease 0.5s forwards;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ---------------- HEADINGS ---------------- */
h1 {
    font-size: 3.5rem;
    color: var(--secondary-color);
    margin-bottom: 10px;
    position: relative;
    display: inline-block;
}

h1::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 4px;
    background: var(--primary-color);
    border-radius: 2px;
}

h2 {
    font-size: 2.2rem;
    margin: 40px 0 20px;
    color: var(--dark-color);
    position: relative;
    display: inline-block;
}

h2::before, h2::after {
    content: '‚ùß';
    margin: 0 15px;
    color: var(--primary-color);
}

/* ---------------- TEXT ---------------- */
.intro {
    font-size: 1.3rem;
    line-height: 1.8;
    margin: 30px auto 50px;
    max-width: 900px;
    padding: 25px;
    background-color: rgba(255, 255, 255, 0.8);
    border-radius: 15px;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
}

.intro::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 8px;
    height: 100%;
    background: var(--primary-color);
}

.long-text {
    font-size: 1.2rem;
    line-height: 1.9;
    margin: 20px auto;
    max-width: 950px;
    text-align: justify;
    text-align-last: center;
}

/* ---------------- GALLERY ---------------- */
.gallery-section {
    position: relative;
    margin: 50px 0;
}

.gallery {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin: 40px 0;
}

.gallery-item {
    position: relative;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.25);
    transition: var(--transition);
    cursor: pointer;
    aspect-ratio: 1;
}

.gallery-item:hover {
    transform: scale(1.05);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
}

.gallery-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--transition);
}

.gallery-item:hover .gallery-img {
    transform: scale(1.1);
}

.gallery-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 15px;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
    color: white;
    font-size: 0.9rem;
    transform: translateY(100%);
    transition: var(--transition);
}

.gallery-item:hover .gallery-caption {
    transform: translateY(0);
}

/* Lightbox */
.lightbox {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.lightbox-content {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
}

.lightbox-close {
    position: absolute;
    top: 20px;
    right: 30px;
    color: white;
    font-size: 40px;
    cursor: pointer;
    transition: var(--transition);
}

.lightbox-close:hover {
    color: var(--primary-color);
}

.lightbox-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(255, 255, 255, 0.2);
    color: white;
    border: none;
    padding: 15px;
    cursor: pointer;
    font-size: 24px;
    transition: var(--transition);
}

.lightbox-nav:hover {
    background-color: var(--primary-color);
}

.lightbox-prev {
    left: 20px;
}

.lightbox-next {
    right: 20px;
}

/* ---------------- QUOTE BOX ---------------- */
.quote-section {
    margin: 60px 0;
}

.quote-box {
    background: white;
    padding: 40px 30px;
    border-radius: 20px;
    font-size: 1.5rem;
    margin: 40px auto;
    max-width: 850px;
    box-shadow: var(--shadow);
    position: relative;
    animation: pulse 2s infinite alternate;
    border-left: 8px solid var(--primary-color);
    border-right: 8px solid var(--primary-color);
}

@keyframes pulse {
    from { box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); }
    to { box-shadow: 0 15px 35px rgba(255, 79, 139, 0.3); }
}

.quote-box i {
    color: var(--primary-color);
    margin: 0 10px;
}

.quote-author {
    display: block;
    margin-top: 20px;
    font-size: 1.1rem;
    color: var(--dark-color);
    font-style: italic;
}

/* ---------------- BUTTONS ---------------- */
.buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    margin: 30px 0;
}

.btn {
    padding: 15px 35px;
    font-size: 1.1rem;
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 5px 15px rgba(255, 79, 139, 0.4);
}

.btn:hover {
    background: var(--secondary-color);
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(255, 79, 139, 0.5);
}

.btn-secondary {
    background: transparent;
    border: 2px solid var(--primary-color);
    color: var(--primary-color);
}

.btn-secondary:hover {
    background: var(--primary-color);
    color: white;
}

/* ---------------- MEMORY SECTION ---------------- */
.memory-section {
    margin: 60px 0;
}

.memory-form {
    background: rgba(255, 255, 255, 0.9);
    padding: 30px;
    border-radius: 15px;
    max-width: 700px;
    margin: 0 auto;
    box-shadow: var(--shadow);
}

.form-group {
    margin-bottom: 20px;
    text-align: left;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    color: var(--dark-color);
    font-weight: 600;
}

.form-control {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #eee;
    border-radius: 8px;
    font-size: 1rem;
    transition: var(--transition);
}

.form-control:focus {
    border-color: var(--primary-color);
    outline: none;
}

textarea.form-control {
    min-height: 120px;
    resize: vertical;
}

.memories-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 40px;
}

.memory-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: var(--shadow);
    text-align: left;
    position: relative;
    transition: var(--transition);
}

.memory-card:hover {
    transform: translateY(-10px);
}

.memory-card h4 {
    color: var(--secondary-color);
    margin-bottom: 10px;
    font-size: 1.3rem;
}

.memory-date {
    font-size: 0.9rem;
    color: #888;
    margin-bottom: 15px;
    display: block;
}

/* ---------------- FOOTER ---------------- */
footer {
    margin-top: 60px;
    padding: 30px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 20px 20px 0 0;
    position: relative;
    overflow: hidden;
}

footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
}

.heart-animation {
    position: absolute;
    bottom: 20px;
    right: 20px;
    font-size: 2rem;
    color: var(--primary-color);
    animation: heartbeat 1.5s infinite;
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* ---------------- RESPONSIVE ---------------- */
@media (max-width: 900px) {
    .gallery {
        grid-template-columns: repeat(2, 1fr);
    }
    
    h1 {
        font-size: 2.8rem;
    }
    
    .quote-box {
        font-size: 1.3rem;
        padding: 30px 20px;
    }
}

@media (max-width: 600px) {
    .gallery {
        grid-template-columns: 1fr;
    }
    
    h1 {
        font-size: 2.2rem;
    }
    
    h2 {
        font-size: 1.8rem;
    }
    
    .intro, .long-text {
        font-size: 1.1rem;
    }
    
    .buttons {
        flex-direction: column;
        align-items: center;
    }
    
    .btn {
        width: 100%;
        max-width: 300px;
    }
}

/* ---------------- SCROLL ANIMATION ---------------- */
.reveal {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s ease;
}

.reveal.active {
    opacity: 1;
    transform: translateY(0);
}

/* ---------------- MUSIC PLAYER ---------------- */
.music-player {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: rgba(255, 255, 255, 0.9);
    padding: 15px;
    border-radius: 50px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    z-index: 100;
    display: flex;
    align-items: center;
    gap: 15px;
}

.music-btn {
    background: var(--primary-color);
    color: white;
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: var(--transition);
}

.music-btn:hover {
    background: var(--secondary-color);
    transform: scale(1.1);
}

.music-info {
    font-size: 0.9rem;
    color: var(--dark-color);
    white-space: nowrap;
}
</style>
</head>

<body>
<!-- Loading Screen -->
<div class="loader" id="loader">
    <div class="loader-content">
        <div class="loader-spinner"></div>
        <h2>Loading Special Memories...</h2>
        <p>This page is made with lots of love üíñ</p>
    </div>
</div>

<!-- Music Player -->
<div class="music-player" id="musicPlayer">
    <button class="music-btn" id="playBtn">
        <i class="fas fa-play"></i>
    </button>
    <div class="music-info" id="musicInfo">Friendship Theme</div>
</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
    <span class="lightbox-close" id="closeLightbox">&times;</span>
    <button class="lightbox-nav lightbox-prev" id="prevBtn">
        <i class="fas fa-chevron-left"></i>
    </button>
    <img class="lightbox-content" id="lightboxImg" src="" alt="Enlarged memory">
    <button class="lightbox-nav lightbox-next" id="nextBtn">
        <i class="fas fa-chevron-right"></i>
    </button>
</div>

<div class="container">
    <h1>To My Beautiful Best Friend üíñ</h1>
    
    <p class="intro">
        You are not just someone I talk to every day.<br>
        You are someone who understands my silence,<br>
        supports my dreams, and stays even when life gets hard.<br>
        You are not just my best friend ‚Äî<br>
        you are my comfort, my strength, and my forever person.
    </p>
    
    <h2 class="reveal">‚ú® Our Memories ‚ú®</h2>
    
    <div class="gallery-section reveal">
        <div class="gallery" id="gallery">
            <!-- Gallery items will be generated by JavaScript -->
        </div>
    </div>
    
    <h2 class="reveal">üå∏ What You Mean To Me üå∏</h2>
    
    <p class="long-text reveal">
        Some people enter our lives quietly and change everything without even trying.<br>
        You are that person for me.<br>
        Through laughter, chaos, sadness, and silence ‚Äî you stayed.<br>
        You never judged my flaws, never questioned my emotions,<br>
        and never made me feel alone.
        <br><br>
        When the world feels heavy, you make it lighter.<br>
        When I doubt myself, you remind me who I am.<br>
        And when I smile for no reason, it's usually because of you.
    </p>
    
    <div class="quote-section reveal">
        <div class="quote-box" id="quote">
            <i class="fas fa-quote-left"></i>
            <span id="quoteText">Some souls are connected beyond time, distance, and words</span>
            <i class="fas fa-quote-right"></i>
            <span class="quote-author" id="quoteAuthor">‚Äî Unknown</span>
        </div>
    </div>
    
    <div class="buttons">
        <button class="btn" onclick="changeQuote()">
            <i class="fas fa-heart"></i> New Quote
        </button>
        <button class="btn btn-secondary" onclick="addMemory()">
            <i class="fas fa-plus"></i> Add Memory
        </button>
        <button class="btn btn-secondary" onclick="toggleMusic()">
            <i class="fas fa-music"></i> Toggle Music
        </button>
    </div>
    
    <div class="memory-section reveal" id="memorySection" style="display: none;">
        <h2>üíå Share a Memory</h2>
        <div class="memory-form">
            <div class="form-group">
                <label for="memoryTitle">Memory Title</label>
                <input type="text" id="memoryTitle" class="form-control" placeholder="E.g., Our Beach Day">
            </div>
            <div class="form-group">
                <label for="memoryDate">Date</label>
                <input type="date" id="memoryDate" class="form-control">
            </div>
            <div class="form-group">
                <label for="memoryText">Memory Description</label>
                <textarea id="memoryText" class="form-control" placeholder="Describe this special memory..."></textarea>
            </div>
            <button class="btn" onclick="saveMemory()">
                <i class="fas fa-save"></i> Save Memory
            </button>
        </div>
        
        <div class="memories-container" id="memoriesContainer">
            <!-- Memory cards will be added here -->
        </div>
    </div>
    
    <p class="long-text reveal">
        No matter where life takes us,<br>
        no matter how busy or distant things become,<br>
        remember one thing ‚Äî<br>
        you will always have a place in my heart that no one else can replace.
    </p>
    
    <footer class="reveal">
        <h3>Forever thankful for you üå∑</h3>
        <p>‚Äî Your Best Friend üíï</p>
        <div class="heart-animation">
            <i class="fas fa-heart"></i>
        </div>
    </footer>
</div>

<!-- Audio for background music -->
<audio id="backgroundMusic" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-carefree-610.mp3" type="audio/mp3">
    Your browser does not support the audio element.
</audio>

<script>
// ========== GLOBAL VARIABLES ==========
const quotes = [
    {text: "You are my favorite notification üíñ", author: "‚Äî Unknown"},
    {text: "A best friend like you is rare and priceless ‚ú®", author: "‚Äî Unknown"},
    {text: "With you, even ordinary moments feel special üå∏", author: "‚Äî Unknown"},
    {text: "You are strong, beautiful, and incredibly kind üíï", author: "‚Äî Me"},
    {text: "Life feels safer knowing you're by my side üåç", author: "‚Äî Unknown"},
    {text: "No matter what happens, I've got you üí´", author: "‚Äî Me"},
    {text: "Some friendships are forever ‚Äî ours is one of them üíû", author: "‚Äî Unknown"},
    {text: "You're the peanut butter to my jelly ü•™", author: "‚Äî Unknown"},
    {text: "Together is my favorite place to be üè°", author: "‚Äî Unknown"}
];

const galleryImages = [
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/Screenshot%202026-01-20%20224727-artguru.png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.03%20AM%20(1).png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.03%20AM%20(2).png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.03%20AM.png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.04%20AM%20(1).png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.04%20AM%20(2).png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.04%20AM.png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.05%20AM%20(1).png"},
    {src: "https://raw.githubusercontent.com/anonymous1234-hub/projects/main/My%20besto%20friendo/WhatsApp%20Image%202025-06-26%20at%2011.29.05%20AM.png"}
];

let currentQuoteIndex = 0;
let currentImageIndex = 0;
let memories = [];
let isMusicPlaying = false;

// ========== DOM ELEMENTS ==========
const loader = document.getElementById('loader');
const musicPlayer = document.getElementById('musicPlayer');
const playBtn = document.getElementById('playBtn');
const musicInfo = document.getElementById('musicInfo');
const backgroundMusic = document.getElementById('backgroundMusic');
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');
const closeLightbox = document.getElementById('closeLightbox');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const quoteText = document.getElementById('quoteText');
const quoteAuthor = document.getElementById('quoteAuthor');
const gallery = document.getElementById('gallery');
const memorySection = document.getElementById('memorySection');
const memoriesContainer = document.getElementById('memoriesContainer');

// ========== INITIALIZATION ==========
document.addEventListener('DOMContentLoaded', function() {
    // Hide loader after 1.5 seconds
    setTimeout(() => {
        loader.style.opacity = '0';
        setTimeout(() => {
            loader.style.display = 'none';
        }, 500);
    }, 1500);
    
    // Initialize gallery
    initializeGallery();
    
    // Initialize scroll animations
    initScrollAnimations();
    
    // Load saved memories from localStorage
    loadMemories();
    
    // Set initial quote
    changeQuote();
});

// ========== GALLERY FUNCTIONS ==========
function initializeGallery() {
    gallery.innerHTML = '';
    
    galleryImages.forEach((image, index) => {
        const galleryItem = document.createElement('div');
        galleryItem.className = 'gallery-item';
        galleryItem.innerHTML = `
            <img src="${image.src}" alt="Memory ${index + 1}" class="gallery-img" data-index="${index}">
            <div class="gallery-caption">${image.caption}</div>
        `;
        
        galleryItem.addEventListener('click', () => openLightbox(index));
        gallery.appendChild(galleryItem);
    });
}

function openLightbox(index) {
    currentImageIndex = index;
    updateLightboxImage();
    lightbox.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

function closeLightboxFunc() {
    lightbox.style.display = 'none';
    document.body.style.overflow = 'auto';
}

function updateLightboxImage() {
    lightboxImg.src = galleryImages[currentImageIndex].src;
}

function prevImage() {
    currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
    updateLightboxImage();
}

function nextImage() {
    currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
    updateLightboxImage();
}

// ========== QUOTE FUNCTIONS ==========
function changeQuote() {
    // Get a random quote different from the current one
    let newIndex;
    do {
        newIndex = Math.floor(Math.random() * quotes.length);
    } while (newIndex === currentQuoteIndex && quotes.length > 1);
    
    currentQuoteIndex = newIndex;
    quoteText.textContent = quotes[currentQuoteIndex].text;
    quoteAuthor.textContent = quotes[currentQuoteIndex].author;
    
    // Add animation effect
    const quoteBox = document.getElementById('quote');
    quoteBox.style.animation = 'none';
    setTimeout(() => {
        quoteBox.style.animation = 'pulse 2s infinite alternate';
    }, 10);
}

// ========== MEMORY FUNCTIONS ==========
function addMemory() {
    memorySection.style.display = 'block';
    memorySection.scrollIntoView({ behavior: 'smooth' });
}

function saveMemory() {
    const title = document.getElementById('memoryTitle').value.trim();
    const date = document.getElementById('memoryDate').value;
    const text = document.getElementById('memoryText').value.trim();
    
    if (!title || !text) {
        alert('Please fill in both title and description');
        return;
    }
    
    const memory = {
        id: Date.now(),
        title: title,
        date: date || new Date().toISOString().split('T')[0],
        text: text
    };
    
    memories.push(memory);
    saveMemoriesToStorage();
    renderMemory(memory);
    
    // Clear form
    document.getElementById('memoryTitle').value = '';
    document.getElementById('memoryDate').value = '';
    document.getElementById('memoryText').value = '';
    
    // Show success message
    alert('Memory saved successfully! üíñ');
}

function renderMemory(memory) {
    const memoryCard = document.createElement('div');
    memoryCard.className = 'memory-card';
    memoryCard.innerHTML = `
        <h4>${memory.title}</h4>
        <span class="memory-date">${formatDate(memory.date)}</span>
        <p>${memory.text}</p>
        <button class="btn btn-secondary" style="margin-top: 15px; padding: 8px 15px; font-size: 0.9rem;" onclick="deleteMemory(${memory.id})">
            <i class="fas fa-trash"></i> Delete
        </button>
    `;
    
    memoriesContainer.prepend(memoryCard);
}

function formatDate(dateString) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString('en-US', options);
}

function deleteMemory(id) {
    if (confirm('Are you sure you want to delete this memory?')) {
        memories = memories.filter(memory => memory.id !== id);
        saveMemoriesToStorage();
        loadMemories(); // Reload memories
    }
}

function saveMemoriesToStorage() {
    localStorage.setItem('friendshipMemories', JSON.stringify(memories));
}

function loadMemories() {
    const savedMemories = localStorage.getItem('friendshipMemories');
    if (savedMemories) {
        memories = JSON.parse(savedMemories);
        memoriesContainer.innerHTML = '';
        memories.forEach(memory => renderMemory(memory));
    }
}

// ========== MUSIC FUNCTIONS ==========
function toggleMusic() {
    if (isMusicPlaying) {
        backgroundMusic.pause();
        playBtn.innerHTML = '<i class="fas fa-play"></i>';
        musicInfo.textContent = 'Music Paused';
    } else {
        backgroundMusic.play().catch(e => {
            console.log("Audio playback failed:", e);
            musicInfo.textContent = 'Click to play music';
        });
        playBtn.innerHTML = '<i class="fas fa-pause"></i>';
        musicInfo.textContent = 'Friendship Theme - Playing';
    }
    isMusicPlaying = !isMusicPlaying;
}

// ========== SCROLL ANIMATIONS ==========
function initScrollAnimations() {
    const revealElements = document.querySelectorAll('.reveal');
    
    const revealOnScroll = () => {
        const windowHeight = window.innerHeight;
        const revealPoint = 150;
        
        revealElements.forEach(element => {
            const revealTop = element.getBoundingClientRect().top;
            
            if (revealTop < windowHeight - revealPoint) {
                element.classList.add('active');
            }
        });
    };
    
    window.addEventListener('scroll', revealOnScroll);
    // Trigger once on load
    revealOnScroll();
}

// ========== EVENT LISTENERS ==========
closeLightbox.addEventListener('click', closeLightboxFunc);
prevBtn.addEventListener('click', prevImage);
nextBtn.addEventListener('click', nextImage);
playBtn.addEventListener('click', toggleMusic);

// Close lightbox when clicking outside the image
lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) {
        closeLightboxFunc();
    }
});

// Keyboard navigation
document.addEventListener('keydown', (e) => {
    if (lightbox.style.display === 'flex') {
        if (e.key === 'Escape') closeLightboxFunc();
        if (e.key === 'ArrowLeft') prevImage();
        if (e.key === 'ArrowRight') nextImage();
    }
    
    // Space bar to change quote
    if (e.key === ' ' && e.target === document.body) {
        e.preventDefault();
        changeQuote();
    }
});

// Add confetti effect on button click
const confettiBtn = document.querySelector('.btn:first-of-type');
confettiBtn.addEventListener('click', () => {
    createConfetti();
});

function createConfetti() {
    const colors = ['#ff4f8b', '#7a003c', '#ffdde1', '#5a002a', '#ffb6c1'];
    
    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.position = 'fixed';
        confetti.style.width = '10px';
        confetti.style.height = '10px';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.borderRadius = '50%';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.top = '-20px';
        confetti.style.zIndex = '9999';
        confetti.style.pointerEvents = 'none';
        
        document.body.appendChild(confetti);
        
        const animation = confetti.animate([
            { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
            { transform: `translateY(${window.innerHeight + 100}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
        ], {
            duration: 1000 + Math.random() * 2000,
            easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
        });
        
        animation.onfinish = () => confetti.remove();
    }
}
</script>
</body>
</html>